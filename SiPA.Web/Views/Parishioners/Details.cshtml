@model SiPA.Web.Data.Entities.Parishioner

@{
    ViewData["Title"] = "Details";
}

<h2>Feligrés</h2>

    <div>
        <h4>Detalles</h4>
        <hr />
        <dl class="dl-horinzontal">
            <dt>
                @Html.DisplayNameFor(model => model.User.FirstName)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.User.FullName)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.User.Email)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.User.Email)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.User.Address)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.User.Address)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.User.PhoneNumber)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.User.PhoneNumber)
            </dd>
        </dl>
    </div>
    <div>
        <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">Editar</a> |
        <a asp-action="AddChristening" asp-route-id="@Model.Id" class="btn btn-primary">Bautizo</a> |
        <a asp-action="Index" class="btn btn-success">Volver a la Lista</a>
    </div>
    @*<table class="table table-responsive">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Sacraments.FirstOrDefault().SacramentType.SacramentName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Sacraments.FirstOrDefault().Christening.ChristeningDate)
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Sacraments)
            {
                <tr>
                    <td>
                      @Html.DisplayFor(modelItem => item.SacramentType.SacramentName)
                    </td>
                    <td>
                       @Html.DisplayFor(modelItem => item.Christening.ChristeningDateLocal)
                    </td>
                    <td>
                        
                    </td>
                    <td>
                        <a asp-action="EditChristening" asp-route-id="@item.Id" class="btn btn-warning">Editar</a>
                        <a asp-action="DetailsChristening" asp-route-id="@item.Id" class="btn btn-info">Detalles</a>
                        <button data-id="@item.Id" class="btn btn-danger deleteItem" data-toggle="modal" data-target="#deleteDialog">Borrar</button>
                    </td>
                </tr>
            }
        </tbody>
    </table>*@

    <partial name="_DeleteDialog" />

    @section Scripts{
        @{ await Html.RenderPartialAsync("_ValidationScriptsPartial");}

        <script type="text/javascript">
            $(document).ready(function () {
                var item_to_delete;

                $('.deleteItem').click((e) => {
                    item_to_delete = e.currentTarget.dataset.id;
                });

                $("#btnYesDelete").click(function () {
                    window.location.href = '/Owners/DeletePet/' + item_to_delete;
                });
            });
        </script>
    }